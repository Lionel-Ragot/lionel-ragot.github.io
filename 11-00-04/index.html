<!DOCTYPE html>
<html lang="fr" dir="ltr">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>L&#39;immigration Â« choisie Â» face aux dÃ©fis Ã©conomiques du vieillissement dÃ©mographique | Lionel Ragot</title>
<meta name="keywords" content="immigration, labor market, demography, selective migration, ageing economies">
<meta name="description" content="Dans cet article, nous montrons que l&rsquo;immigration de remplacement requiert des flux importants et n&rsquo;engendre que des effets modÃ©rÃ©s sur les finances publiques et l&rsquo;Ã©conomie.">
<meta name="author" content=" Xavier Chojnicki, FrÃ©dÃ©ric Docquier et Lionel Ragot">
<link rel="canonical" href="https://lionel-ragot.github.io/11-00-04/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.936f12481e08fd026d71aec96f499eee41dfcadfc78e1a5b8740101232f977f8.css" integrity="sha256-k28SSB4I/QJtca7Jb0me7kHfyt/Hjhpbh0AQEjL5d/g=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://lionel-ragot.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://lionel-ragot.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://lionel-ragot.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://lionel-ragot.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://lionel-ragot.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="fr" href="https://lionel-ragot.github.io/11-00-04/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="L&#39;immigration Â« choisie Â» face aux dÃ©fis Ã©conomiques du vieillissement dÃ©mographique" />
<meta property="og:description" content="Dans cet article, nous montrons que l&rsquo;immigration de remplacement requiert des flux importants et n&rsquo;engendre que des effets modÃ©rÃ©s sur les finances publiques et l&rsquo;Ã©conomie." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lionel-ragot.github.io/11-00-04/" /><meta property="article:section" content="articles" />
<meta property="article:published_time" content="2005-09-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2005-09-01T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="L&#39;immigration Â« choisie Â» face aux dÃ©fis Ã©conomiques du vieillissement dÃ©mographique"/>
<meta name="twitter:description" content="Dans cet article, nous montrons que l&rsquo;immigration de remplacement requiert des flux importants et n&rsquo;engendre que des effets modÃ©rÃ©s sur les finances publiques et l&rsquo;Ã©conomie."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Publications",
      "item": "https://lionel-ragot.github.io/fr/articles/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "L'immigration Â« choisie Â» face aux dÃ©fis Ã©conomiques du vieillissement dÃ©mographique",
      "item": "https://lionel-ragot.github.io/11-00-04/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "L'immigration Â« choisie Â» face aux dÃ©fis Ã©conomiques du vieillissement dÃ©mographique",
  "name": "L\u0027immigration Â« choisie Â» face aux dÃ©fis Ã©conomiques du vieillissement dÃ©mographique",
  "description": "Dans cet article, nous montrons que l\u0026rsquo;immigration de remplacement requiert des flux importants et n\u0026rsquo;engendre que des effets modÃ©rÃ©s sur les finances publiques et l\u0026rsquo;Ã©conomie.",
  "keywords": [
    "immigration", "labor market", "demography", "selective migration", "ageing economies"
  ],
  "articleBody": " TÃ©lÃ©chargement Article - Revue Economique RÃ©sumÃ© Les retombÃ©es Ã©conomiques potentielles des politiques de Â« quotas choisis Â» sont largement mÃ©connues. Elles affectent les trois catÃ©gories dâ€™acteurs concernÃ©es : les migrants, la population des pays dâ€™origine et les natifs dans les pays dâ€™accueil. Ã€ partir dâ€™un modÃ¨le dâ€™Ã©quilibre gÃ©nÃ©ral avec agents hÃ©tÃ©rogÃ¨nes, cet article aborde les consÃ©quences de lâ€™immigration de remplacement sur lâ€™Ã©conomie franÃ§aise. Par rapport Ã  un scÃ©nario de rÃ©fÃ©rence qui reproduit le vieillissement de la population franÃ§aise, nous considÃ©rons deux scenarii migratoires alternatifs. Le premier envisage lâ€™immigration nÃ©cessaire pour stabiliser la taille de la population en Ã¢ge de travail avec une structure par qualification de ces immigrÃ©s qui suit la tendance actuelle (immigration de remplacement). Le second est fondÃ© sur les mÃªmes volumes mais considÃ¨re que les immigrÃ©s additionnels ont les mÃªmes qualifications que les natifs (immigration choisie). Nous montrons que lâ€™immigration de remplacement requiert des flux importants et nâ€™engendre que des effets modÃ©rÃ©s sur les finances publiques et lâ€™Ã©conomie. Une sÃ©lection accrue des immigrÃ©s permet dâ€™obtenir, Ã  moyen terme (Ã  lâ€™horizon 2050), des effets plus marquÃ©s mais dâ€™une ampleur toujours faible comparativement aux changements induits par le vieillissement de la population. Ã€ plus long terme (Ã  lâ€™horizon 2100), la politique sÃ©lective engendre des gains pour les finances publiques lÃ©gÃ¨rement infÃ©rieurs Ã  ceux de lâ€™immigration de remplacement. Dans ces deux scenarii, toutes les cohortes de natifs voient leur bien-Ãªtre sâ€™accroÃ®tre et cela, quel que soit leur niveau de qualification.\nAbstract The potential economic impact of a selective migration policy are widely misunderstood. Three types of agents are affected: the migrants, the population of the leaving country and the natives of the host country. Based on a general equilibrium model with heterogeneous agents, this paper deals with the consequences of replacement migration on the French economy. Compared to a baseline scenario reproducing the French ageing process, we consider two alternative migratory policies. The first one evaluates the migratory flows necessary to stabilise the active population size with the same skill structure of the immigrant flows as in the baseline (replacement migration). The second one is based on the same flows and assumes that additional immigrants have the same skills than the natives (selective migration). We show that replacement migration requires important flows whereas it implies only weak economic and financial effects. A more selective immigration policy accentuates the gains in the middle run (near 2050) but the impact of immigration on fiscal balance is still small relative to the size of the overall imbalance itself. In the long run (near 2100), this selective policy involves lower fiscal gains than those of the replacement migration policy. Finally, all cohorts and skill groups of natives realise welfare gains in the two scenarii. Classification JEL: J61, I3, D58.\nCitation Text CHOJNICKI Xavier, DOCQUIER FrÃ©dÃ©ric, RAGOT Lionel, Â« L'immigration Â« choisie Â» face aux dÃ©fis Ã©conomiques du vieillissement dÃ©mographique Â», Revue Ã©conomique, 2005/6 (Vol. 56), p. 1359-1384. DOI : 10.3917/reco.566.1359. URL : https://www.cairn.info/revue-economique-2005-6-page-1359.htm BibTex @ARTICLE{RePEc:cai:recosp:reco_566_1359, title = {L'immigration Â« choisie Â» face aux dÃ©fis Ã©conomiques du vieillissement dÃ©mographique}, author = {Chojnicki, Xavier and Docquier, FrÃ©dÃ©ric and Ragot, Lionel}, year = {2005}, journal = {Revue Ã©conomique}, volume = {56}, number = {6}, pages = {1359-1384}, abstract = {The potential economic impact of a selective migration policy are widely misunderstood. Three types of agents are affected : the migrants, the population of the leaving country and the natives of the host country. Based on a general equilibrium model with heterogeneous agents, this paper deals with the consequences of replacement migration on the French economy. Compared to a baseline scenario reproducing the French ageing process, we consider two alternative migratory policies. The first one evaluates the migratory flows necessary to stabilise the active population size with the same skill structure of the immigrant flows as in the baseline (replacement migration). The second one is based on the same flows and assumes that additional immigrants have the same skills than the natives (selective migration). We show that replacement migration requires important flows whereas it implies only weak economic and financial effects. A more selective immigration policy accentuates the gains in the middle run (near 2050) but the impact of immigration on fiscal balance is still small relative to the size of the overall imbalance itself. In the long run (near 2100), this selective policy involves lower fiscal gains than those of the replacement migration policy. Finally, all cohorts and skill groups of natives realise welfare gains in the two scenarii. Classification JEL : J61, I3, D58.}, url = {https://EconPapers.repec.org/RePEc:cai:recosp:reco_566_1359} } ",
  "wordCount" : "752",
  "inLanguage": "fr",
  "datePublished": "2005-09-01T00:00:00Z",
  "dateModified": "2005-09-01T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": " Xavier Chojnicki, FrÃ©dÃ©ric Docquier et Lionel Ragot"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://lionel-ragot.github.io/11-00-04/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Lionel Ragot",
    "logo": {
      "@type": "ImageObject",
      "url": "https://lionel-ragot.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://lionel-ragot.github.io/fr/" accesskey="h" title="Lionel Ragot (Alt + H)">
                <img src="https://lionel-ragot.github.io/images/favicon.ico" alt="" aria-label="logo"
                    height="18">Lionel Ragot</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="https://lionel-ragot.github.io/en/" title="English"
                            aria-label="English">En</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://lionel-ragot.github.io/fr/publications/" title="Publications">
                    <span>Publications</span>
                </a>
            </li>
            <li>
                <a href="https://lionel-ragot.github.io/fr/articles" title="Pub/Articles">
                    <span>Pub/Articles</span>
                </a>
            </li>
            <li>
                <a href="https://lionel-ragot.github.io/fr/books" title="Pub/livres">
                    <span>Pub/livres</span>
                </a>
            </li>
            <li>
                <a href="https://lionel-ragot.github.io/fr/others" title="Pub/Autres">
                    <span>Pub/Autres</span>
                </a>
            </li>
            <li>
                <a href="https://lionel-ragot.github.io/fr/courses/" title="Enseignements">
                    <span>Enseignements</span>
                </a>
            </li>
            <li>
                <a href="https://lionel-ragot.github.io/fr/dialectix" title="DialectiX">
                    <span>DialectiX</span>
                </a>
            </li>
            <li>
                <a href="https://lionel-ragot.github.io/LR-blog.github.io/" title="Blog">
                    <span>Blog</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="https://lionel-ragot.github.io/fr/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      L&#39;immigration Â« choisie Â» face aux dÃ©fis Ã©conomiques du vieillissement dÃ©mographique
    </h1>
    <div class="post-meta"><span title='2005-09-01 00:00:00 +0000 UTC'>ðŸ“… 1 septembre 2005</span>
        &nbsp;Â·&nbsp;ðŸ‘¤ par  Xavier Chojnicki, FrÃ©dÃ©ric Docquier et Lionel Ragot



</div>
  </header> 
  <div class="post-content"><hr>
<h2 id="tÃ©lÃ©chargement">TÃ©lÃ©chargement<a hidden class="anchor" aria-hidden="true" href="#tÃ©lÃ©chargement">#</a></h2>
<ul>
<li><a href="https://www.cairn.info/revue-economique-2005-6-page-1359.htm?contenu=article">Article - <em>Revue Economique</em></a></li>
</ul>
<hr>
<h2 id="rÃ©sumÃ©">RÃ©sumÃ©<a hidden class="anchor" aria-hidden="true" href="#rÃ©sumÃ©">#</a></h2>
<p>Les retombÃ©es Ã©conomiques potentielles des politiques de Â« quotas choisis Â» sont largement mÃ©connues. Elles affectent les trois catÃ©gories d&rsquo;acteurs concernÃ©es : les migrants, la population des pays d&rsquo;origine et les natifs dans les pays d&rsquo;accueil. Ã€ partir d&rsquo;un modÃ¨le d&rsquo;Ã©quilibre gÃ©nÃ©ral avec agents hÃ©tÃ©rogÃ¨nes, cet article aborde les consÃ©quences de l&rsquo;immigration de remplacement sur lâ€™Ã©conomie franÃ§aise. Par rapport Ã  un scÃ©nario de rÃ©fÃ©rence qui reproduit le vieillissement de la population franÃ§aise, nous considÃ©rons deux scenarii migratoires alternatifs. Le premier envisage lâ€™immigration nÃ©cessaire pour stabiliser la taille de la population en Ã¢ge de travail avec une structure par qualification de ces immigrÃ©s qui suit la tendance actuelle (immigration de remplacement). Le second est fondÃ© sur les mÃªmes volumes mais considÃ¨re que les immigrÃ©s additionnels ont les mÃªmes qualifications que les natifs (immigration choisie). Nous montrons que lâ€™immigration de remplacement requiert des flux importants et nâ€™engendre que des effets modÃ©rÃ©s sur les finances publiques et lâ€™Ã©conomie. Une sÃ©lection accrue des immigrÃ©s permet dâ€™obtenir, Ã  moyen terme (Ã  lâ€™horizon 2050), des effets plus marquÃ©s mais dâ€™une ampleur toujours faible comparativement aux changements induits par le vieillissement de la population. Ã€ plus long terme (Ã  lâ€™horizon 2100), la politique sÃ©lective engendre des gains pour les finances publiques lÃ©gÃ¨rement infÃ©rieurs Ã  ceux de lâ€™immigration de remplacement. Dans ces deux scenarii, toutes les cohortes de natifs voient leur bien-Ãªtre sâ€™accroÃ®tre et cela, quel que soit leur niveau de qualification.</p>
<hr>
<h2 id="abstract">Abstract<a hidden class="anchor" aria-hidden="true" href="#abstract">#</a></h2>
<p>The potential economic impact of a selective migration policy are widely misunderstood. Three types of agents are affected: the migrants, the population of the leaving country and the natives of the host country. Based on a general equilibrium model with heterogeneous agents, this paper deals with the consequences of replacement migration on the French economy. Compared to a baseline scenario reproducing the French ageing process, we consider two alternative migratory policies. The first one evaluates the migratory flows necessary to stabilise the active population size with the same skill structure of the immigrant flows as in the baseline (replacement migration). The second one is based on the same flows and assumes that additional immigrants have the same skills than the natives (selective migration). We show that replacement migration requires important flows whereas it implies only weak economic and financial effects. A more selective immigration policy accentuates the gains in the middle run (near 2050) but the impact of immigration on fiscal balance is still small relative to the size of the overall imbalance itself. In the long run (near 2100), this selective policy involves lower fiscal gains than those of the replacement migration policy. Finally, all cohorts and skill groups of natives realise welfare gains in the two scenarii.
Classification JEL: J61, I3, D58.</p>
<hr>
<h2 id="citation">Citation<a hidden class="anchor" aria-hidden="true" href="#citation">#</a></h2>


<p><details >
  <summary markdown="span">Text</summary>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-BibTeX" data-lang="BibTeX"><span class="line"><span class="cl"> <span class="c">CHOJNICKI Xavier, DOCQUIER FrÃ©dÃ©ric, RAGOT Lionel, Â« L&#39;immigration Â« choisie Â» face aux dÃ©fis Ã©conomiques du vieillissement dÃ©mographique Â», Revue Ã©conomique, 2005/6 (Vol. 56), p. 1359-1384. DOI : 10.3917/reco.566.1359. URL : https://www.cairn.info/revue-economique-2005-6-page-1359.htm </span>
</span></span></code></pre></div>
</details></p>



<p><details >
  <summary markdown="span">BibTex</summary>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-BibTeX" data-lang="BibTeX"><span class="line"><span class="cl"><span class="nc">@ARTICLE</span><span class="p">{</span><span class="nl">RePEc:cai:recosp:reco_566_1359</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="na">title</span> <span class="p">=</span> <span class="s">{L&#39;immigration Â« choisie Â» face aux dÃ©fis Ã©conomiques du vieillissement dÃ©mographique}</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="na">author</span> <span class="p">=</span> <span class="s">{Chojnicki, Xavier and Docquier, FrÃ©dÃ©ric and Ragot, Lionel}</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="na">year</span> <span class="p">=</span> <span class="s">{2005}</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="na">journal</span> <span class="p">=</span> <span class="s">{Revue Ã©conomique}</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="na">volume</span> <span class="p">=</span> <span class="s">{56}</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="na">number</span> <span class="p">=</span> <span class="s">{6}</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="na">pages</span> <span class="p">=</span> <span class="s">{1359-1384}</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="na">abstract</span> <span class="p">=</span> <span class="s">{The potential economic impact of a selective migration policy are widely misunderstood. Three types of agents are affected : the migrants, the population of the leaving country and the natives of the host country. Based on a general equilibrium model with heterogeneous agents, this paper deals with the consequences of replacement migration on the French economy. Compared to a baseline scenario reproducing the French ageing process, we consider two alternative migratory policies. The first one evaluates the migratory flows necessary to stabilise the active population size with the same skill structure of the immigrant flows as in the baseline (replacement migration). The second one is based on the same flows and assumes that additional immigrants have the same skills than the natives (selective migration). We show that replacement migration requires important flows whereas it implies only weak economic and financial effects. A more selective immigration policy accentuates the gains in the middle run (near 2050) but the impact of immigration on fiscal balance is still small relative to the size of the overall imbalance itself. In the long run (near 2100), this selective policy involves lower fiscal gains than those of the replacement migration policy. Finally, all cohorts and skill groups of natives realise welfare gains in the two scenarii. Classification JEL : J61, I3, D58.}</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="na">url</span> <span class="p">=</span> <span class="s">{https://EconPapers.repec.org/RePEc:cai:recosp:reco_566_1359}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>
</details></p>



  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://lionel-ragot.github.io/fr/tags/immigration/">Immigration</a></li>
      <li><a href="https://lionel-ragot.github.io/fr/tags/labor-market/">Labor Market</a></li>
      <li><a href="https://lionel-ragot.github.io/fr/tags/demography/">Demography</a></li>
      <li><a href="https://lionel-ragot.github.io/fr/tags/selective-migration/">Selective Migration</a></li>
      <li><a href="https://lionel-ragot.github.io/fr/tags/ageing-economies/">Ageing Economies</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2025 <a href="https://lionel-ragot.github.io/fr/">Lionel Ragot</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
